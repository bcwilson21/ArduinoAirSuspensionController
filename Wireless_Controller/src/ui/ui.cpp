// This file was generated by SquareLine Studio
// SquareLine Studio version: SquareLine Studio 1.4.2
// LVGL version: 9.1.0
// Project name: SquareLine_Project

#include "ui.h"
#include "utils/touch_lib.h"

SCREEN currentScreen;

void ui_init(void)
{
    lv_disp_t *dispp = lv_display_get_default();
    lv_theme_t *theme = lv_theme_default_init(dispp, lv_palette_main(LV_PALETTE_BLUE), lv_palette_main(LV_PALETTE_RED),
                                              false, LV_FONT_DEFAULT);
    lv_disp_set_theme(dispp, theme);
    ui_scrMain_screen_init();
    scrHome.init();
    scrPresets.init();
    scrSettings.init();
    scrMain.ui____initial_actions0 = lv_obj_create(NULL);
    changeScreen(SCREEN_HOME);
}

void changeScreen(SCREEN screen)
{
    if (currentScreen == screen)
    {
        return;
    }

    // lv_refr_now(lv_disp_get_default());

    currentScreen = screen;
    switch (screen)
    {
    case SCREEN_MAIN:
        lv_disp_load_scr(scrMain.ui_scrMain);
        break;
    case SCREEN_HOME:
        lv_disp_load_scr(scrHome.scr);
        break;
    case SCREEN_PRESETS:
        lv_disp_load_scr(scrPresets.scr);
        break;
    case SCREEN_SETTINGS:
        lv_disp_load_scr(scrSettings.scr);
        break;
    }
}

void screenLoop()
{
    switch (currentScreen)
    {
    case SCREEN_MAIN:
        ui_scrMain_loop();
        break;
    case SCREEN_HOME:
        scrHome.loop();
        break;
    case SCREEN_PRESETS:
        scrPresets.loop();
        break;
    case SCREEN_SETTINGS:
        scrSettings.loop();
        break;
    }

    resetTouchInputFrame();
}
